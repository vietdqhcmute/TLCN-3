<div id="topbar">
  <app-page-sidebar [userIsAuthenticated]="true"></app-page-sidebar>
</div>
<div class="flex-profile">
  <div id="info-area">
    <div class="header-profile"></div>

    <div class="cover">
      <div class="cover-image">
        <img
          class="cover-image"
          src="../../assets/The-Industrialist.png"
          alt="cover"
        />
      </div>

      <div class="cover-info">
        <div class="avatar">
          <div class="image-container">
            <img
              *ngIf="!imagePreview"
              [src]="user$.avatarURL"
              alt="avatar"
              (click)="filePicker.click()"
            />
            <img
              [src]="imagePreview"
              *ngIf="imagePreview !== '' && imagePreview"
              alt="avatar"
              (click)="filePicker.click()"
            />
            <input type="file" #filePicker (change)="onImagePicked($event)" />
          </div>
          <div class="display-name">
            <div class="edit-activate" *ngIf="!editFlag">
              <h6>
                <strong>{{ user$.userName }}</strong>
              </h6>
            </div>
            <div class="edit-activate" *ngIf="editFlag">
              <label for="name">Name:</label>
              <input
                class="form-control"
                id="name"
                type="text"
                [(ngModel)]="user$.userName"
              />
            </div>
          </div>
          <div class="display-title">
            <div class="edit-activate" *ngIf="!editFlag">
              <p>
                <strong>{{ user$.resume.title }}</strong>
              </p>
            </div>
            <div class="edit-activate" *ngIf="editFlag">
              <label for="title">Title:</label>
              <input
                class="form-control"
                id="title"
                type="text"
                [(ngModel)]="user$.resume.title"
              />
            </div>
          </div>
        </div>
        <div class="cover-user-info">
          <div class="one-line">
            <i class="material-icons md-24">email</i>
            <p>
              <strong> {{ user$.email }}</strong>
            </p>
          </div>
          <div class="one-line">
            <i class="material-icons md-24">local_phone</i>
            <p>
              <strong> {{ user$.phone }}</strong>
            </p>
          </div>
          <div *ngIf="user$.resume.githubURL" class="one-line">
            <span
              ><img
                src="../../assets/github-icon.png"
                alt="github-icon"
                style="width:25px"
            /></span>
            <p>
              <strong>{{ user$.resume.githubURL }}</strong>
            </p>
          </div>
          <div *ngIf="user$.resume.linkedinURL" class="one-line">
            <span
              ><img
                src="../../assets/linkedin-icon.png"
                alt="linkedin-icon"
                style="width:25px"
            /></span>
            <p>
              <strong>{{ user$.resume.linkedinURL }}</strong>
            </p>
          </div>
        </div>
      </div>
      <button
        id="btn-update-info"
        class="btn btn-info"
        (click)="onEditButton()"
      >
        Edit profile
      </button>
      <button
        *ngIf="true == false"
        id="btn-update-info"
        class="btn btn-info"
        [routerLink]="['/main', user$._id, 'edit']"
      >
        Update your RÃ©sume
      </button>
    </div>

    <section id="info">
      <p style="margin-bottom: 3px">
        You have joined us since:
        {{ user$.resume.created | date: "dd/MM/yyyy" }}
      </p>
    </section>
  </div>
</div>
